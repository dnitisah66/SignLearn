// ====== Course Image Navigation ======
let images = ["/images/sign1.png", "/images/sign2.png", "/images/sign3.png"];
let index = 0;

function nextImage() {
  if (index < images.length - 1) {
    index++;
    document.getElementById("lessonImage").src = images[index];
    updateProgress();
  }
}

function prevImage() {
  if (index > 0) {
    index--;
    document.getElementById("lessonImage").src = images[index];
    updateProgress();
  }
}

// ====== Progress Update (calls backend API) ======
function updateProgress() {
  fetch("/progress/update", {
    method: "POST",
    headers: { "Content-Type": "application/x-www-form-urlencoded" },
    body: course=Course1&completed=${index + 1}&total=${images.length}
  })
  .then(res => res.text())
  .then(msg => console.log("Progress:", msg));
}

// ====== Materialize Select Initialization ======
document.addEventListener('DOMContentLoaded', function () {
  var elems = document.querySelectorAll('select');
  M.FormSelect.init(elems);
});